{"ast":null,"code":"import _slicedToArray from\"C:/Users/chris/OneDrive/Documentos/01 - Curso - SoyHenry/PI-Front-1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import style from'./navbar.module.css';import*as actionCreators from'../../actions';import{connect}from'react-redux';import{bindActionCreators}from'redux';import{Link}from'react-router-dom';import Btns from'./../buttons';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Navbar=function Navbar(props){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),continents=_React$useState2[0],setContinents=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),activities=_React$useState4[0],setActivities=_React$useState4[1];useEffect(function(){axios.get('/countries/continents').then(function(data){return setContinents(data.data);});axios.get('/activities').then(function(data){return setActivities(data.data);});},[]);// Paso primer caracter a mayuscula\nfunction normalizeName(str){var lower=str.toLowerCase();return str.charAt(0).toUpperCase()+lower.slice(1);}var handleChange=function handleChange(e){props.reset();props.filterBySearch(normalizeName(e.target.value));//console.log(e.target.value);\n};var filterChange=function filterChange(e){props.reset();props.filterByAlph(e.target.value);};var filterContinent=function filterContinent(e){props.reset();props.filterByContinent(e.target.value);};var filterActivity=function filterActivity(e){props.reset();if(e.target.value)props.fetchActivity(e.target.value);else props.fetchCountry();};var OrderByPopulation=function OrderByPopulation(e){props.reset();props.orderCountry(e.target.value);};var renderizarActividades=function renderizarActividades(){var newArray=[];var lookupObject={};for(var i in activities){lookupObject[activities[i].nombre]=activities[i];}for(i in lookupObject){newArray.push(lookupObject[i]);}return newArray.map(function(element){return/*#__PURE__*/_jsx(\"option\",{children:element.nombre},element.id*10);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"label\",{className:style.logo,children:\"Countries\"}),/*#__PURE__*/_jsx(\"input\",{id:style.check,type:\"checkbox\"}),/*#__PURE__*/_jsxs(\"ul\",{className:style.links,children:[/*#__PURE__*/_jsxs(\"li\",{children:[\" \",/*#__PURE__*/_jsxs(\"select\",{name:\"OrderByAlph\",className:style.orden,onChange:filterChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Order Alphabetically\"}),/*#__PURE__*/_jsx(\"option\",{value:\"a-z\",children:\" A-Z \"}),/*#__PURE__*/_jsx(\"option\",{value:\"z-a\",children:\" Z-A \"})]})]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"select\",{name:\"OrderByPopulation\",className:style.orden,onChange:OrderByPopulation,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Order by population\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dec\",children:\"Major population\"}),/*#__PURE__*/_jsx(\"option\",{value:\"asc\",children:\"Minor population\"})]}),\" \"]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"select\",{name:\"FilterByContinent\",className:style.orden,onChange:filterContinent,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Continents\"}),continents?continents.map(function(c){return/*#__PURE__*/_jsx(\"option\",{children:c},c);}):/*#__PURE__*/_jsx(\"h1\",{children:\"Hubo un problema con la Ap\\\"\"})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"select\",{name:\"FilterByActivity\",className:style.orden,onChange:filterActivity,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Activities\"}),renderizarActividades()]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"input\",{className:style.buscador,name:\"countrySearch\",value:props.inputText,onChange:handleChange,placeholder:\"Search by name\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/allactivities\",children:/*#__PURE__*/_jsx(Btns,{prop:\"All Activities\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/activity\",children:/*#__PURE__*/_jsx(Btns,{prop:\"+ Activity\"})})})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:style.check,className:style.icon,children:[/*#__PURE__*/_jsx(\"div\",{className:style.line}),/*#__PURE__*/_jsx(\"div\",{className:style.line}),/*#__PURE__*/_jsx(\"div\",{className:style.line})]})]})});};var mapStateToProps=function mapStateToProps(state){return{page:state.page,country:state.country,input:state.inputText};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators(actionCreators,dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(Navbar);","map":{"version":3,"names":["React","useEffect","style","actionCreators","connect","bindActionCreators","Link","Btns","axios","Navbar","props","useState","continents","setContinents","activities","setActivities","get","then","data","normalizeName","str","lower","toLowerCase","charAt","toUpperCase","slice","handleChange","e","reset","filterBySearch","target","value","filterChange","filterByAlph","filterContinent","filterByContinent","filterActivity","fetchActivity","fetchCountry","OrderByPopulation","orderCountry","renderizarActividades","newArray","lookupObject","i","nombre","push","map","element","id","logo","check","links","orden","c","buscador","inputText","icon","line","mapStateToProps","state","page","country","input","mapDispatchToProps","dispatch"],"sources":["C:/Users/chris/OneDrive/Documentos/01 - Curso - SoyHenry/PI-Front-1/src/components/navbar/index.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport style from './navbar.module.css';\r\nimport * as actionCreators from '../../actions';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Btns from './../buttons';\r\nimport axios from 'axios';\r\n\r\nconst Navbar = (props) =>{\r\n\r\n    const [continents, setContinents] = React.useState([]);\r\n    const [activities, setActivities] = React.useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get('/countries/continents')\r\n            .then(data => setContinents(data.data))\r\n    axios.get('/activities')\r\n            .then(data => setActivities(data.data))\r\n    }, []);\r\n\r\n    // Paso primer caracter a mayuscula\r\n    function normalizeName(str) {\r\n        const lower = str.toLowerCase();\r\n        return str.charAt(0).toUpperCase() + lower.slice(1);\r\n    }\r\n\r\n    const handleChange = function (e) {\r\n        props.reset();\r\n       props.filterBySearch(normalizeName(e.target.value))\r\n       //console.log(e.target.value);\r\n    }\r\n\r\n    const filterChange = function (e) {\r\n        props.reset()\r\n        props.filterByAlph(e.target.value)\r\n    }\r\n\r\n    const filterContinent = function (e) {\r\n        props.reset()\r\n        props.filterByContinent(e.target.value)\r\n    }\r\n\r\n    const filterActivity = function (e) {\r\n        props.reset()\r\n        if(e.target.value)\r\n        props.fetchActivity(e.target.value);\r\n        else props.fetchCountry();\r\n    }\r\n\r\n    const OrderByPopulation = function (e) {\r\n        props.reset()\r\n        props.orderCountry(e.target.value);\r\n    }\r\n\r\n    const renderizarActividades = function () {\r\n        var newArray = [];\r\n        var lookupObject = {};\r\n\r\n        for (var i in activities) {\r\n            lookupObject[activities[i].nombre] = activities[i];\r\n        }\r\n\r\n        for (i in lookupObject) {\r\n            newArray.push(lookupObject[i]);\r\n        }\r\n        return (newArray.map(element => <option key={element.id * 10}>{element.nombre}</option>))\r\n    }\r\n\r\n    return (<>\r\n        <nav>\r\n            <label className={style.logo}>Countries</label>\r\n            <input id={style.check} type=\"checkbox\" />\r\n            <ul className={style.links}>\r\n                <li> <select name=\"OrderByAlph\" className={style.orden} onChange={filterChange}>\r\n                    <option value=\"\">Order Alphabetically</option>\r\n                    <option value=\"a-z\"> A-Z </option>\r\n                    <option value=\"z-a\"> Z-A </option>\r\n                </select></li>\r\n                <li><select name=\"OrderByPopulation\" className={style.orden} onChange={OrderByPopulation}>\r\n                    <option value=\"\">Order by population</option>\r\n                    <option value=\"dec\">Major population</option>\r\n                    <option value=\"asc\">Minor population</option>\r\n                </select> </li>\r\n                <li><select name=\"FilterByContinent\" className={style.orden} onChange={filterContinent}>\r\n                    <option value=\"\">Continents</option>\r\n                    { continents ? continents.map(c => <option key={c}>{c}</option>) : <h1>Hubo un problema con la Ap\"</h1>}\r\n                </select></li>\r\n                <li><select name=\"FilterByActivity\" className={style.orden} onChange={filterActivity}>\r\n                    <option value=\"\">Activities</option>\r\n                    {renderizarActividades()}\r\n                </select></li>\r\n                <li>\r\n                    <input className={style.buscador} name=\"countrySearch\" value={props.inputText} onChange={handleChange} placeholder=\"Search by name\" />\r\n                    \r\n                </li>\r\n                <li>\r\n                    <Link to=\"/allactivities\" ><Btns prop=\"All Activities\" /></Link>\r\n                   \r\n                </li>\r\n                <li>\r\n                    <Link to=\"/activity\"><Btns prop=\"+ Activity\" /></Link>\r\n                </li>\r\n            </ul>\r\n            <label htmlFor={style.check} className={style.icon}>\r\n                <div className={style.line}></div>\r\n                <div className={style.line}></div>\r\n                <div className={style.line}></div>\r\n            </label>\r\n        </nav>\r\n    </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = function (state) {\r\n    return {\r\n        page: state.page,\r\n        country: state.country,\r\n        input: state.inputText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = function (dispatch) {\r\n    return bindActionCreators(actionCreators, dispatch)\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);"],"mappings":"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"},"metadata":{},"sourceType":"module"}